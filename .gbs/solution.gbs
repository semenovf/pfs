workspace "pfs-mpl"
    language      "C++"
    includedirs { "../include" }
    include("../../.gbs/solution-common.lua")
    include("../../.gbs/test.lua")

-- Projects

project "pfs-test"
    kind       "SharedLib"
    targetname "pfs-test"
    links      { PFS_LINKS }
    files      { "../src/pfs-test/*.c", "../src/pfs-test/*.cpp" }
    filter "platforms:unix* or elbrus*"
        files { "../src/pfs-test/unix/*.cpp" }
    filter "platforms:mswin*"
        files { "../src/pfs-test/win/*.cpp" }

project "pfs"
    kind "StaticLib"
    targetname "pfs"
    links { PFS_LINKS }
    include("pfs.gbs")

-- Helper shared object to test dynamic_library
project "shared_object"
    include("shared_object.gbs")

include("solution-tests.gbs")
include("solution-demo.gbs")

